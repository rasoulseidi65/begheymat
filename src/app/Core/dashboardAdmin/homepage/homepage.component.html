<p-toast position="center"></p-toast>


<p-tabView dir="rtl">
  <p-tabPanel>
    <ng-template pTemplate="header"><i class="pi pi-user-edit p-pl-3 text-white" style="font-size: 1rem"></i>ثبت اسلایدر
    </ng-template>
    <form [formGroup]="formGroupSlider" dir="rtl">
      <p-panel styleClass="mb-3 pt-2" dir="rtl">
        <p-header>
          <p class="text-right titlePanel"> مشخصات اسلایدر</p>
          <p class="subTitlePanel">لطفا مشخصات اسلایدر را کامل و دقیق وارد نمایید</p>
        </p-header>
        <div class="p-grid p-fluid">
          <div class="p-md-6">
            <div class="p-field p-grid">
              <label for="title" class="p-col-12 p-mb-2 p-md-3 p-mb-md-0">عنوان اسلایدر:</label>
              <div class="p-col-12 p-md-9">
                <input id="title" type="text" [(ngModel)]="slider.title" pInputText formControlName="title">
              </div>
            </div>
            <div class="p-field p-grid">
              <label for="type" class="p-col-12 p-mb-2 p-md-3 p-mb-md-0">متن اسایدر:</label>
              <div class="p-col-12 p-md-9">
                <input id="type" type="text" [(ngModel)]="slider.caption" pInputText formControlName="caption">
              </div>
            </div>

          </div>
          <div class="p-md-6">
            <div class="p-field p-grid">
              <label for="email" class="p-col-12 p-mb-2 p-md-12 p-mb-md-0">تصویر محصول :</label>
              <div class="p-col-12 p-md-12">
                <p-fileUpload name="myfile[]" customUpload="true"
                              invalidFileSizeMessageDetail="حداکثر سایز عکس 2 مگابایت می باشد"
                              invalidFileSizeMessageSummary="اندازه فایل بیش از حد مجاز می باشد"
                              accept="image/jpeg,image/png " maxFileSize="2000000"
                              (uploadHandler)="onUpload($event)" uploadLabel="آپلود عکس" chooseLabel="انتخاب عکس"
                              cancelLabel="انصراف"></p-fileUpload>
              </div>
            </div>
          </div>


        </div>

        <p-footer>
          <button pButton label="ثبت اسلایدر جدید" class="ui-button-success" icon="pi pi-check" iconPos="left"
              (click)="onRegisterSlider()"  ></button>
        </p-footer>
      </p-panel>
    </form>

  </p-tabPanel>
  <p-tabPanel>
    <ng-template pTemplate="header"><i class="pi pi-map-marker p-pl-3 text-white" style="font-size: 1rem"></i>ویرایش
      اسلایدر
    </ng-template>
    <div id="printSectionId" #epltable dir="rtl">
      <p-table [value]="sliderModel" selectionMode="single"  #dt [columns]="cols" [paginator]="true" [rows]="4" >
        <ng-template pTemplate="header">
          <tr class="title-table">
            <th style="width: 30%" class="text-center">ردیف</th>
            <th style="width: 70%" class="text-center">عنوان اسلایدر</th>
            <th style="width: 30%" class="text-center">زیر عنوان</th>
            <th style="width: 30%" class="text-center">تصویر</th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-slider let-rowIndex="rowIndex">
          <tr>
            <td class="text-center">{{rowIndex + 1}}</td>
            <td class="text-center">{{slider.title}}</td>
            <td class="text-center">{{slider.caption}}</td>

            <td class="text-center"><img [src]="slider.imageurl" style="height: 40px;width: 30px"/> </td>

          </tr>
        </ng-template>

      </p-table>

    </div>

  </p-tabPanel>

</p-tabView>



